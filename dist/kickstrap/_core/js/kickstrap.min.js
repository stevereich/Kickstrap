function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}function reportError(e,t){var n="margin: 10px; padding: 10px; border: 1px solid #FCB3B3; background-color: #FFF4F4;border-radius: 5px;";$("#errortab").append('<div style="'+n+'"><strong>'+t+"</strong>: "+e+"</div>")}function kickstrapReady(){if(appCheck){this.loadedLoop=[];for(var e=0;appArray.length>e||function(){this.loadedLoop.every(Boolean)&&ks.fire()}();e++){var t=appArray[e].countRequired,n=appArray[e].countDependent;appArray[e].loaded=t[0]==t[1]&&n[0]==n[1]?!0:!1,this.loadedLoop.push(appArray[e].loaded)}}}function consoleLog(e,t,n){var r="KS: ";if(ks.opts.console&&window.console)if(n)console.log([e,n]);else switch(t){case"warn":console.warn(r+e);break;case"error":console.error(r+e);break;default:console.log(r+e)}}function setDir(e,t){"root"==t&&(ks.opts.rootDir=ks.opts.rootDir||e),"universal"==t&&(ks.opts.universals=ks.opts.universals||e)}function clearCache(){var e="w"==(localStorage.setItem="w");e?(localStorage.clear(),consoleLog("Cache has been cleared. Reloading..."),location.reload(!0)):consoleLog("This browser does not support localStorage.","error")}function formatString(e,t){return e+="",t?(e+="",e=e.replace(/\\'/g,"'"),e=e.replace(/\\"/g,'"'),e=e.replace(/\\0/g,"\0"),e=e.replace(/\\\\/g,"\\"),e=e.substring(1,e.length-1)):e=e.replace(/['"]/g,""),e=e.replace(/br-/gi,";")}function themeFunction(e){$.ajax({type:"GET",url:ks.opts.rootDir+"Kickstrap/themes/"+e+"/functions.js",dataType:"script",context:self})}function initKickstrap(){if(universalsSet||"none"!=ks.opts.universals||(universalsSet=!0),universalsSet){ks.apps=ks.apps.concat(formatString($("#appList").css(contentHack.selector)).splitCSV()),8!=ver&&(ks.apps=ks.apps.filter(function(e,t){return ks.apps.indexOf(e)==t}));for(var e=0;ks.apps.length>e;e++)theapp=ks.apps[e],theapp.isIgnored()&&(ks.apps.remove(e),e--);0==ks.apps.length&&ks.fire();for(var e=0;ks.apps.length>e;e++)theapp=ks.apps[e],window[ks.apps[e]]=new app(theapp)}else universal=new app("universal")}function cssIfy(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("body")[0].appendChild(t)}function app(e){function t(t){var n=t[0].splitCSV();for(i=0;n.length>i;i++)n[i].isIgnored()&&n.splice(n.indexOf(n[i]),1);if(window[e].resourcesRequired=n,t[1]){var s=t[1].splitCSV();for(i=0;s.length>i;i++)s[i].isIgnored()&&s.splice(s.indexOf(s[i]),1);window[e].resourcesDependent=s}appArray.push(window[e]),universalsSet||r(),appArray.length==ks.apps.length&&r()}function n(){universalsSet=!0,appArray=[],initKickstrap()}function r(){universalsSet&&ks.apps.length>0&&(appCheck=!0);for(var e=0;appArray.length>e||function(){universalsSet||0!=appArray[0].countRequired[1]||n()}();e++){appArray[e].countRequired[0]=0,consoleLog("KS: "+appArray[e].name,null,appArray[e]);for(var t=0;appArray[e].resourcesRequired.length>t;t++){var r=appArray[e].resourcesRequired[t],s=configPath+appArray[e].name+"/"+r;r.isPublic()&&(s=r),r.isIgnored()||(r.isJS()?$.ajax({type:"GET",url:s,dataType:"script",context:this,beforeSend:function(t){t.thisIs=appArray[e],t.thisIs.countRequired[1]++},success:function(e,t,n){var r=n.thisIs;if(r.countRequired[0]++,r.countRequired[0]==r.countRequired[1]){universalsSet||(universalsSet=!0,appArray=[],initKickstrap(),universal.countDependent=[0,0]),r.countDependent[0]=0,kickstrapReady(r.name);for(var s=0;r.resourcesDependent.length>s;s++){var i=configPath+r.name+"/"+r.resourcesDependent[s];r.resourcesDependent[s].isPublic()&&(i=r.resourcesDependent[s]),i.isJS()?$.ajax({type:"GET",url:i,dataType:"script",context:this,beforeSend:function(e){e.thisIs=r,e.thisIs.countDependent[1]++},success:function(e,t,n){var r=n.thisIs;r.countDependent[0]++,kickstrapReady(r.name)}}):(r.countDependent[0]++,r.countDependent[1]++,cssIfy(i))}}}}):(appArray[e].countRequired[0]++,appArray[e].countRequired[1]++,cssIfy(s)))}}}this.resourcesRequired=[],this.resourcesDependent=[],this.countRequired=[999,0],this.countDependent=[999,0],this.name=e,this.loaded=!1,configPath=ks.opts.rootDir+"Kickstrap/apps/",this.configPath=configPath+e+"/config.ks",("http:"==e.substring(0,5)||"https:"==e.substring(0,6))&&(this.configPath=e),universalsSet||"local"==ks.opts.universals||void 0==ks.opts.universals||(this.configPath=ks.opts.universals+"/universal/config.ks"),$.ajax({type:"GET",url:this.configPath,dataType:"html",context:self,success:function(e){this.resources=e.split(/\r\n|\n/),t(this.resources)},error:function(t,n,r){consoleLog('Could not load the app "'+e+'" ['+t.status+" ("+r+")]","error"),diagnosticMsgs.push("Verify your rootDir variable in kickstrap.less or in JavaScript has been set correctly."),diagnosticMsgs.push("Is the name of the app spelled correctly? Should match the name of the folder."),diagnosticMsgs.push("Do the above 404 errors reflect the right paths to files?.")}})}var self=this,configPath,appArray=[],universalsSet=!1,readyFired=!1,appCheck=!1,thisVersion="1.2.0 Beta",diagnosticMsgs=[],rootDir,appList,kickstrap=Object();if(!ks)var ks={};ks.opts||(ks.opts={}),ks.apps||(ks.apps=[]);var empty=[];ks.apps=empty.concat(ks.apps),ks.opts.console&&"boolean"==typeof ks.opts.console||(ks.opts.console=!1),ks.hello="KS: Hi! ("+thisVersion+")",ks.edit=function(){document.body.contentEditable="true",document.designMode="on","function"==typeof window.$.pnotify?$.pnotify({title:"Prototyping Mode",text:"You can now edit anything in this page. (But it won't be saved!)",type:"success",styling:"bootstrap"}):consoleLog("You can now edit anything in this page. (But it won't be saved!")},ks.readyFxs=[],ks.ready=function(e){this.readyFxs.push(e)},kickstrap.ready=function(e){ks.readyFxs.push(e),consoleLog("Warning, kickstrap.ready is deprecated. Use ks.ready instead","warn")},ks.testParams={readyCount:0},function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=m.elements;return"string"==typeof e?e.split(" "):e}function s(e){var t=y[e[g]];return t||(t={},v++,e[g]=v,y[v]=t),t}function i(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=s(n));var i;return i=r.cache[e]?r.cache[e].cloneNode():f.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),i.canHaveChildren&&!h.test(e)?r.frag.appendChild(i):i}function o(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||s(e);for(var i=n.frag.cloneNode(),o=0,a=r(),c=a.length;c>o;o++)i.createElement(a[o]);return i}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return m.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(m,t.frag)}function c(e){e||(e=t);var r=s(e);return!m.shivCSS||p||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}")),l||a(e,r),e}var p,l,u="3.6.2pre",d=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",v=0,y={};(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return e.cloneNode===void 0||e.createDocumentFragment===void 0||e.createElement===void 0}()}catch(n){p=!0,l=!0}})();var m={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:u,shivCSS:d.shivCSS!==!1,supportsUnknownElements:l,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:c,createElement:i,createDocumentFragment:o};e.html5=m,c(t)}(this,document);var commandChain=[],commandChainLevel=0,code=null;$("body").append('<footer class="kickstrap"></footer>'),$("footer.kickstrap").append('<div class="cli"></div>'),$("footer.kickstrap div.cli").append("<p>Status: Unknown</p>").append('<span>&gt;&nbsp;</span><input type="text" />').append('<div class="pull-right"><i class="glyphicon-info-sign"></i></div>'),$("div.cli").mouseover(function(){$("div.cli p").hide(),$("div.cli input, div.cli span").show(),$("div.cli input").focus()}),$("div.cli input").blur(function(){$("div.cli p").fadeIn("fast"),$("div.cli input, div.cli span").fadeOut("fast")}),$("div.cli input").keypress(function(e){code=e.keyCode?e.keyCode:e.which,13==code&&(commandChain.push($("div.cli input").val()),eval($("div.cli input").val()),$("div.cli input").val(""),commandChainLevel=0,e.preventDefault()),38==code&&(commandChainLevel!=commandChain.length&&commandChainLevel++,console.log(commandChainLevel),$("div.cli input").val(commandChain[commandChain.length-commandChainLevel]),e.preventDefault())});var ver=getInternetExplorerVersion();ks.fire=function(){if(!readyFired){readyFired=!0,ks.testParams.readyCount++,consoleLog("Executing ks.ready() functions");for(var e=0;ks.readyFxs.length>e;e++)ks.readyFxs[e]();rootDir=ks.opts.rootDir,appList=ks.apps}},String.prototype.isIgnored=function(){return"//"==this.substr(0,2)||""==this},String.prototype.isPublic=function(){return"http:"==this.substr(0,5)||"https:"==this.substr(0,6)},String.prototype.isJS=function(){return".js"==this.substr(this.length-3,this.length)},String.prototype.splitCSV=function(e){for(var t,n=this.split(e=e||","),r=n.length-1;r>=0;r--)n[r]=n[r].replace(/ /g,""),'"'==n[r].replace(/"\s+$/,'"').charAt(n[r].length-1)?(t=n[r].replace(/^\s+"/,'"')).length>1&&'"'==t.charAt(0)?n[r]=n[r].replace(/^\s*"|"\s*$/g,"").replace(/""/g,'"'):r?n.splice(r-1,2,[n[r-1],n[r]].join(e)):n=n.shift().split(e).concat(n):n[r].replace(/""/g,'"');return n},Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,n)},"object"!=typeof console&&(console={},console.log=function(){}),"every"in Array.prototype||(Array.prototype.every=function(e,t){for(var n=0,r=this.length;r>n;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){void 0===t&&(t=0),0>t&&(t+=this.length),0>t&&(t=0);for(var n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1}),"filter"in Array.prototype||(Array.prototype.filter=function(e,t){for(var n,r=[],s=0,i=this.length;i>s;s++)s in this&&e.call(t,n=this[s],s,this)&&r.push(n);return r}),setTimeout(function(){if(!readyFired){if("undefined"==ks.opts.rootDir&&diagnosticMsgs.push('Your rootDir is "undefined" Often this is caused by the main stylesheet not loading.'),consoleLog("I noticed your page still hasn't loaded."),diagnosticMsgs=diagnosticMsgs.filter(function(e,t){return diagnosticMsgs.indexOf(e)==t}),diagnosticMsgs.length>0){consoleLog("-Diagnostics--------");for(var e=0;diagnosticMsgs.length>e;e++)consoleLog(diagnosticMsgs[e],"info");consoleLog("--------------------")}ks.opts.readyOverride?ks.fire():consoleLog("If you want ks.ready() to fire anyway, set ks.opts.readyOverride to true.")}},5e3);